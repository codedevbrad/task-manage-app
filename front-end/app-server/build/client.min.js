console.log("modules working");var dropselect=document.getElementsByClassName("dropdown");if(dropselect)for(var drop=0;drop<dropselect.length;drop++)dropselect[drop].addEventListener("click",dropme);function dropme(e){(e=e.target).getElementsByClassName("menu-target")[0].classList.toggle("dropdown-open")}function CreatenewContent(e){var t=e.target.getAttribute("data-content-new"),n=document.getElementById(t);n.classList.add("newcontent-show"),n.getElementsByClassName("new-contentclose-btn")[0].addEventListener("click",function(){document.getElementById(t).classList.remove("newcontent-show")})}console.log("app-load");var load=document.getElementById("app-load");if(load){var phrases=["fetching needed datas","generating workspace members","grabbing your channels","grab a coffee and get working"];addPhrasesToLoad(phrases,function(){firstMethod().then(secondMethod).then(thirdMethod).then(finished)})}function addPhrasesToLoad(e,t){for(var n=document.getElementById("populate-load"),a=0;a<e.length;a++){var o=document.createElement("div");0==a&&o.classList.add("load-in-view"),o.innerHTML="<div class=load-left></div><div class=load-right><h2>"+e[a]+"</h2></div>",n.appendChild(o)}t()}function getData(e){return axios.get(e).then(function(e){return e})}function animation(e){var t=document.getElementById("populate-load").childNodes[e];t.getElementsByClassName("load-left")[0].innerHTML='<svg class="checkmark" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 52 52"><circle class="checkmark__circle" cx="26" cy="26" r="25" fill="none"/><path class="checkmark__check" fill="none" d="M14.1 27.2l7.1 7.2 16.7-16.8"/></svg>',t.classList.add("load-in-view")}var delay=200;function firstMethod(){return new Promise(function(t,n){getData("/0/workspace/get/members").then(function(e){setTimeout(function(){t(),animation(0)},delay)}).catch(function(e){n("error: somethings wrong")})})}function secondMethod(e){return new Promise(function(t,n){getData("/0/workspace/get/channels").then(function(e){setTimeout(function(){t(),animation(1)},delay)}).catch(function(e){n("error: somethings wrong")})})}function thirdMethod(e){return new Promise(function(t,n){getData("/0/workspace/get/reminders").then(function(e){setTimeout(function(){t(),animation(2)},delay)}).catch(function(e){n("error: somethings wrong")})})}function finished(e){return new Promise(function(e,t){setTimeout(function(){e(),animation(3),setTimeout(function(){load.style.display="none"},2100)},delay)})}console.log("workspaces working");var addnewworkspace=document.getElementsByClassName("workspace-btn")[0];function toggleNew(){document.getElementsByClassName("workspace-new")[0].classList.toggle("workspace-state")}addnewworkspace&&addnewworkspace.addEventListener("click",toggleNew);var submitWorkspace=document.getElementById("workspace-enter");function submitreq(){var o=document.getElementById("workspace-name").value,c=document.getElementById("workspace-description").value;axios.post("/0/auth/workspace-new",{name:o,description:c}).then(function(e){var t=document.getElementById("workspaces-center"),n=document.createElement("section");n.classList.add("flex-each-workspace"),n.innerHTML+="<div class=workspace-flex-main><h1>"+o+"</h1><p>"+c+"</p> </div><div class=workspace-flex-following><a class=workspace-btn join-workspace href=/0/workspace/"+e.data.id+">join workspace</span>";var a=document.getElementById("no-workspace");a&&t.removeChild(a),document.getElementsByClassName("workspace-new")[0].classList.remove("workspace-state"),t.appendChild(n),document.getElementById("workspace-btnLogictoAdd").addEventListener("click",joinWorkspace)}).catch(function(e){})}submitWorkspace&&submitWorkspace.addEventListener("click",submitreq),console.log("workspace and stack working "),(newstack=document.getElementById("create-stack-btn"))&&newstack.addEventListener("click",CreatenewContent);var newImage=document.getElementById("create-stack-image");newImage&&newImage.addEventListener("click",CreatenewContent),function(){var e=document.querySelector("body").getAttribute("body_data_id");console.log(e),axios.get("/0/workspace/stack/images/"+e).then(function(e){for(var t=e.data,n=document.getElementById("stack-left-grid-content"),a=0;a<t.length;a++){var o=document.createElement("img");o.classList.add("stack-img"),o.src="/image/"+t[a].filename,n.appendChild(o)}}).catch(function(e){console.log(e)})}();var newstack,loadFile=function(e){var t=document.getElementById("image-names"),n=document.createElement("li");n.classList.add("image-preview-item"),n.innerHTML=e.target.files[0].name,t.appendChild(n)};function GetAllTokens(){var a=document.getElementById("member-tokens-assigned"),e=document.querySelector("body").getAttribute("body_data_id");axios.get("/0/workspace/"+e+"/getAllTokens").then(function(e){var t=e.data;console.log(t),t.forEach(function(e,t){var n=document.createElement("div");n.classList.add("token-generated"),e.claimed?n.classList.add("token-used"):n.classList.add("token-free"),n.innerHTML="<p>"+e.token+"</p>",a.appendChild(n)})}).catch(function(e){console.log(e)})}function generateToken(e){var t=document.querySelector("body").getAttribute("body_data_id");axios.get("/0/workspace/"+t+"/genToken").then(function(e){var t=e.data,n=document.getElementById("member-tokens-assigned"),a=document.createElement("div");a.classList.add("token-generated"),t.claimed?a.classList.add("token-used"):a.classList.add("token-free"),a.innerHTML="<p>"+t.token+"</p>",n.appendChild(a)}).catch(function(e){console.log(e)})}(newstack=document.getElementById("aside-add-member-btn")).addEventListener("click",CreatenewContent),newstack.addEventListener("click",GetAllTokens);