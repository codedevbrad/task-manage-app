
doctype html
html
  head
    title slackr.io | #{title}
    link(rel='stylesheet' href='/main/normalise.css')
    link(rel='stylesheet' href='/app-server/build/client.css')
    link(rel='icon'       href='/main/favicon2.png')
  
  body(id='app-body', body_data_id=data_id space_id=space_id, stack_id=stack_id)
  
    div#app-message
      
    div#app-wrap
      
      header
        section.header-place-1#app-header
          ul#app-title
            li 
              img(src='/main/favicon2.png')#title-img
            li slackr  
        
        section.header-place-2#user-auth-section
          
          ul.menu-target-ul
            
            li.user-li#upgrade-acc upgrade
            
            li.user-li#icon-1.dropdown
              i#messages-icon.far.fa-window-maximize
              ul.menu-target.user-menu
                li.menu-li messages
                li.break-menu   
                
            li.user-li#icon-2.dropdown
              i#other-icon.far.fa-bookmark
                
              ul.menu-target.user-menu
                li.menu-li workspaces
                li.break-menu   
                
                ul#workspace-notifications 
                  li emma chang has joined your workspace 
                  li zach cody has joined your workspace
 
            li.user-auth-name#auth-username.dropdown
              | hi, #{user.username} 
              i.auth-dropdown-icon.fa.fa-angle-down.fa              
                
              ul.menu-target.user-menu#auth-username-menu
                li.menu-li 
                  a Set user status
                li.menu-li You are currently on slackr's free workplace plan 
                li.menu-li 
                  a(href='/0/auth/workspaces/') Switch workspaces
                li.menu-li 
                  a profile & Settings
                li.break-menu
                li.menu-li.dropdown-menu-highlight
                  a(href='/0/auth/logout/') Logout  
                  
        if displaymainlayout         
          section.header-place-3#app-space-title
            a(href='/')#space-title-name  #{space_title} 
            li.dropdown#space-title-drop
              i.fa.fa-angle-down.fa
              ul.menu-target
                li.menu-li add members to workspace
                li.menu-li rename this workspace
      
      if displaymainlayout                       
        div#app-load
          section#load-center
            div#populate-load
      
      div#app-content
        //- display main content with aside ..
        if displaymainlayout
          section#app-content-main
            
            div.newcontent-new-popup#aside-member-new
              include new-content/new-members.pug  
            div.newcontent-new-popup#aside-channel-new
              include new-content/new-channels.pug  
            
            block content
            
          aside#app-content-side
            include layout-includes/aside.pug                    
            
        //- else display content without aside .. 
        else 
          block content
          
      footer
        include layout-includes/footer.pug
        
    block scripts      
      //- npm scripts 
      script(defer='', src='https://use.fontawesome.com/releases/v5.3.1/js/all.js', integrity='sha384-kW+oWsYx3YpxvjtZjFXqazFpA7UP/MbiY4jvs+RWZo2+N94PFZ36T6TFkc9O3qoB', crossorigin='anonymous')
      script(src='/socket.io/socket.io.js')
      script(src='/build/axios/dist/axios.min.js')
      script(src='/app-server/build/client.js')
      
      
